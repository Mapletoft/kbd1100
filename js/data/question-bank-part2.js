// Question Bank Part 2 - Additional Modules

const QuestionBankPart2 = {
    
    // MATHEMATICS - 50 problems (test randomly selects 25)
    mathematics: [
        {
            question: "A fire started at 2:47 PM. The fire department arrived at 2:59 PM. How many minutes passed?",
            answer: 12,
            type: "time"
        },
        {
            question: "An ambulance travels 45 km in 30 minutes. What is its average speed in km/h?",
            answer: 90,
            type: "speed"
        },
        {
            question: "A dispatch center received 156 calls on Monday, 189 calls on Tuesday, and 142 calls on Wednesday. What is the total number of calls?",
            answer: 487,
            type: "addition"
        },
        {
            question: "If 30% of 200 emergency calls are medical emergencies, how many medical calls were there?",
            answer: 60,
            type: "percentage"
        },
        {
            question: "A police officer drives 240 km in 3 hours. What is the average speed in km/h?",
            answer: 80,
            type: "speed"
        },
        {
            question: "Emergency services responded to 85 calls in one week. If 40% were police calls, how many police calls were there?",
            answer: 34,
            type: "percentage"
        },
        {
            question: "A shift starts at 7:00 AM and ends at 3:00 PM. How many hours is the shift?",
            answer: 8,
            type: "time"
        },
        {
            question: "If an ambulance can travel 120 km on a full tank and has used 75% of its fuel, how many km were traveled?",
            answer: 90,
            type: "percentage"
        },
        {
            question: "Three fire trucks respond to a call. If each truck has 4 firefighters, how many firefighters total?",
            answer: 12,
            type: "multiplication"
        },
        {
            question: "A dispatcher handles 24 calls in 6 hours. What is the average number of calls per hour?",
            answer: 4,
            type: "division"
        },
        {
            question: "Police response time averages 8 minutes. If they responded to 15 calls, what is the total response time?",
            answer: 120,
            type: "multiplication"
        },
        {
            question: "An emergency call came in at 11:45 PM. Response time was 18 minutes. What time did units arrive?",
            answer: "12:03 AM",
            type: "time"
        },
        {
            question: "A fire department budget is $450,000. If 35% goes to salaries, how much is spent on salaries?",
            answer: 157500,
            type: "percentage"
        },
        {
            question: "If a 12-hour shift is divided equally among 4 dispatchers, how many hours does each work?",
            answer: 3,
            type: "division"
        },
        {
            question: "Emergency calls increased from 200 to 250 per month. What is the percentage increase?",
            answer: 25,
            type: "percentage"
        },
        {
            question: "A fire truck holds 3,000 liters of water. If 1,800 liters were used, how many liters remain?",
            answer: 1200,
            type: "subtraction"
        },
        {
            question: "Paramedics treated 18 patients. If 2/3 were transported to hospital, how many were transported?",
            answer: 12,
            type: "fractions"
        },
        {
            question: "A chase lasted 45 minutes covering 90 km. What was the average speed in km/h?",
            answer: 120,
            type: "speed"
        },
        {
            question: "Three ambulances each cost $185,000. What is the total cost?",
            answer: 555000,
            type: "multiplication"
        },
        {
            question: "A dispatcher worked from 6:00 AM to 2:30 PM with a 30-minute lunch. How many working hours?",
            answer: 8,
            type: "time"
        },
        {
            question: "Emergency response times: 5 min, 8 min, 6 min, 9 min, 7 min. What is the average?",
            answer: 7,
            type: "average"
        },
        {
            question: "Police issued 156 tickets in January and 189 in February. How many more tickets in February?",
            answer: 33,
            type: "subtraction"
        },
        {
            question: "If 15% of 600 calls are false alarms, how many false alarms?",
            answer: 90,
            type: "percentage"
        },
        {
            question: "A fire station has 24 firefighters. If 1/3 are on duty, how many are on duty?",
            answer: 8,
            type: "fractions"
        },
        {
            question: "An ambulance travels at 100 km/h for 45 minutes. How far does it travel?",
            answer: 75,
            type: "distance"
        },
        {
            question: "Emergency supplies cost $3,450. If split equally among 6 stations, how much per station?",
            answer: 575,
            type: "division"
        },
        {
            question: "A police unit responded at 3:15 PM and cleared at 4:05 PM. How many minutes on scene?",
            answer: 50,
            type: "time"
        },
        {
            question: "Fire department received 840 calls in a year. What is the average per month?",
            answer: 70,
            type: "division"
        },
        {
            question: "If 20% of a 50-person department is on vacation, how many are on vacation?",
            answer: 10,
            type: "percentage"
        },
        {
            question: "Two ambulances cost $95,000 each and equipment costs $30,000. What is the total?",
            answer: 220000,
            type: "addition"
        },
        {
            question: "A dispatch center operates 24 hours with 3 shifts. How long is each shift?",
            answer: 8,
            type: "division"
        },
        {
            question: "Police arrested 45 people in Week 1 and 58 in Week 2. What is the total?",
            answer: 103,
            type: "addition"
        },
        {
            question: "If fire calls decreased from 300 to 240, what is the percentage decrease?",
            answer: 20,
            type: "percentage"
        },
        {
            question: "An officer drives 15 km north, then 20 km east. What is the total distance driven?",
            answer: 35,
            type: "addition"
        },
        {
            question: "Emergency equipment costs $8,500. With 10% tax, what is the total cost?",
            answer: 9350,
            type: "percentage"
        },
        {
            question: "A building has 12 floors. If firefighters climbed 9 floors, what percentage did they climb?",
            answer: 75,
            type: "percentage"
        },
        {
            question: "Call volume: Monday 45, Tuesday 52, Wednesday 38. What is the average?",
            answer: 45,
            type: "average"
        },
        {
            question: "A medical emergency lasted from 1:20 PM to 2:05 PM. How many minutes?",
            answer: 45,
            type: "time"
        },
        {
            question: "If 5 out of 8 units are available, what percentage are available?",
            answer: 62.5,
            type: "percentage"
        },
        {
            question: "Annual budget is $960,000. What is the monthly budget?",
            answer: 80000,
            type: "division"
        },
        {
            question: "Response times: 6, 9, 7, 8, 5 minutes. What is the total time?",
            answer: 35,
            type: "addition"
        },
        {
            question: "A fire truck pumps 1,500 liters per minute. How much in 8 minutes?",
            answer: 12000,
            type: "multiplication"
        },
        {
            question: "Police responded to 480 calls. If 60 were accidents, what percentage were accidents?",
            answer: 12.5,
            type: "percentage"
        },
        {
            question: "Three units each worked 12 hours. What is the total hours?",
            answer: 36,
            type: "multiplication"
        },
        {
            question: "A shift started at 11:30 PM and ended at 7:30 AM. How many hours?",
            answer: 8,
            type: "time"
        },
        {
            question: "If equipment lasts 5 years and costs $25,000, what is the cost per year?",
            answer: 5000,
            type: "division"
        },
        {
            question: "Emergency calls: 85 medical, 60 police, 35 fire. What is the total?",
            answer: 180,
            type: "addition"
        },
        {
            question: "An ambulance used 75 liters of fuel out of 120 liters. What percentage was used?",
            answer: 62.5,
            type: "percentage"
        },
        {
            question: "Overtime pay is $45/hour. If worked 6 hours overtime, what is the total pay?",
            answer: 270,
            type: "multiplication"
        },
        {
            question: "A fire lasted from 9:15 AM to 1:30 PM. How many hours and minutes?",
            answer: "4 hours 15 minutes",
            type: "time"
        }
    ],

    // READING COMPREHENSION - 20 passages (test randomly selects 6)
    readingComprehension: [
        {
            title: "Emergency Dispatch Protocol",
            passage: "When receiving emergency calls, dispatchers must follow a strict protocol. First, determine the nature of the emergency and the exact location. Verify the callback number in case the call is disconnected. Assess whether the situation requires police, fire, medical services, or a combination. Priority is determined by immediate threat to life, then property, then quality of life issues. For medical emergencies, keep the caller on the line and provide pre-arrival instructions when appropriate. Always remain calm and speak clearly, as your demeanor can affect the caller's response to the emergency.",
            questions: [
                {
                    question: "What is the first step when receiving an emergency call?",
                    options: [
                        "Verify callback number",
                        "Determine nature and location",
                        "Assess which services needed",
                        "Provide pre-arrival instructions"
                    ],
                    correct: 1
                },
                {
                    question: "How is priority determined?",
                    options: [
                        "First call received gets priority",
                        "Life, then property, then quality of life",
                        "Medical always has highest priority",
                        "Based on caller's tone"
                    ],
                    correct: 1
                },
                {
                    question: "When should pre-arrival instructions be given?",
                    options: [
                        "For all emergencies",
                        "Only for fire emergencies",
                        "For medical emergencies when appropriate",
                        "Never, wait for responders"
                    ],
                    correct: 2
                }
            ]
        },
        {
            title: "Fire Service Response",
            passage: "Fire departments respond to more than just fires. Modern fire services handle hazardous materials incidents, vehicle extractions, water rescues, and medical first response. When dispatching fire units, consider the type of incident, available resources, and response times. Structure fires require multiple units including engines, ladders, and command vehicles. Automatic fire alarms should still receive a full response as they may indicate an actual fire. Always dispatch fire units with emergency medical capabilities to medical calls in their district when ambulances may be delayed.",
            questions: [
                {
                    question: "What types of incidents do fire departments handle?",
                    options: [
                        "Only fires",
                        "Fires and medical only",
                        "Multiple types including hazmat, rescue, and medical",
                        "Only structure fires"
                    ],
                    correct: 2
                },
                {
                    question: "How should automatic fire alarms be handled?",
                    options: [
                        "Ignore them as usually false",
                        "Send one unit to investigate",
                        "Full response as they may indicate actual fire",
                        "Wait for confirmation before dispatching"
                    ],
                    correct: 2
                },
                {
                    question: "When should fire units be dispatched to medical calls?",
                    options: [
                        "Never, that's ambulance territory",
                        "Only for cardiac arrests",
                        "In their district when ambulances may be delayed",
                        "Only if requested by caller"
                    ],
                    correct: 2
                }
            ]
        },
        {
            title: "Police Dispatch Priorities",
            passage: "Police calls are categorized by priority level. Priority 1 calls involve immediate danger to life - active shooters, violent crimes in progress, serious accidents with injuries. These require immediate dispatch of all available units. Priority 2 calls are urgent but not immediately life-threatening - burglaries in progress, suspicious persons, minor accidents. Priority 3 calls are routine - theft reports, noise complaints, found property. Officers should be advised of known hazards at locations, including previous violent incidents, weapons, or dangerous animals. Always update responding officers with new information as the situation develops.",
            questions: [
                {
                    question: "What defines a Priority 1 call?",
                    options: [
                        "Any call from a repeat caller",
                        "Immediate danger to life",
                        "All violent crimes",
                        "Calls from police officers"
                    ],
                    correct: 1
                },
                {
                    question: "How should officers be informed about location hazards?",
                    options: [
                        "Only if they ask",
                        "In the initial dispatch",
                        "After they arrive on scene",
                        "Through written reports only"
                    ],
                    correct: 1
                },
                {
                    question: "What should dispatchers do as situations develop?",
                    options: [
                        "Wait until officers request updates",
                        "Update at shift change only",
                        "Update responding officers with new information",
                        "File updates for later review"
                    ],
                    correct: 2
                }
            ]
        },
        {
            title: "Medical Emergency Categories",
            passage: "Medical emergencies are classified into three categories based on response requirements. Critical or 'Code 3' calls include cardiac arrest, respiratory failure, severe trauma, and stroke symptoms. These require lights-and-sirens response from the closest available unit. Urgent or 'Code 2' calls are serious but stable - fractures, moderate bleeding, diabetic emergencies. These need prompt response but without emergency warning devices. Routine or 'Code 1' calls are non-emergency medical transport and minor injuries. Dispatchers must accurately triage calls by asking specific questions about patient condition, level of consciousness, and breathing status.",
            questions: [
                {
                    question: "What characterizes a Code 3 medical call?",
                    options: [
                        "Any call from a medical facility",
                        "Critical conditions like cardiac arrest and stroke",
                        "Calls during rush hour",
                        "Requests from doctors"
                    ],
                    correct: 1
                },
                {
                    question: "How should Code 2 calls be handled?",
                    options: [
                        "Lights and sirens response",
                        "Wait for next available unit",
                        "Prompt response without emergency devices",
                        "Transfer to hospital directly"
                    ],
                    correct: 2
                },
                {
                    question: "What information is critical for medical call triage?",
                    options: [
                        "Patient's insurance information",
                        "Caller's relationship to patient",
                        "Patient's condition, consciousness, and breathing",
                        "Patient's medical history"
                    ],
                    correct: 2
                }
            ]
        },
        {
            title: "Multi-Agency Coordination",
            passage: "Many emergencies require coordination between multiple agencies. A serious vehicle accident may need police for traffic control and investigation, fire department for vehicle extrication and scene safety, and EMS for patient care. Dispatchers must anticipate these needs and dispatch appropriate resources simultaneously. Establishing a unified command structure helps coordinate the response. The incident commander - usually from the agency with primary responsibility - coordinates all resources. Dispatchers should monitor all radio traffic and relay important information between agencies using different radio frequencies. Clear communication prevents duplication of effort and ensures all needs are met.",
            questions: [
                {
                    question: "Why do vehicle accidents often need multiple agencies?",
                    options: [
                        "It's department policy",
                        "Each handles different aspects: control, extrication, medical",
                        "To look more impressive",
                        "Only if requested by first unit on scene"
                    ],
                    correct: 1
                },
                {
                    question: "Who typically serves as incident commander?",
                    options: [
                        "The dispatcher",
                        "The fire chief always",
                        "Agency with primary responsibility",
                        "First unit to arrive"
                    ],
                    correct: 2
                },
                {
                    question: "What is the dispatcher's role in multi-agency incidents?",
                    options: [
                        "Monitor traffic and relay info between agencies",
                        "Take over as incident commander",
                        "Only dispatch, no monitoring needed",
                        "Coordinate only if requested"
                    ],
                    correct: 0
                }
            ]
        },
        {
            title: "Hazardous Materials Response",
            passage: "Hazardous materials incidents require specialized response procedures. Dispatchers must gather specific information: type of material involved, quantity, whether it's leaking or contained, and whether there are injuries or evacuations needed. The first arriving unit should not approach unknown substances but establish a perimeter. Hazmat teams need wind direction, proximity to water sources, and building occupancy information. Chemical fires require different suppression techniques than regular fires. Evacuation distances vary by material - some require only 100 meters, others may need kilometer-wide evacuations. Reference materials like the Emergency Response Guidebook help determine initial actions.",
            questions: [
                {
                    question: "What should first units do with unknown hazardous materials?",
                    options: [
                        "Approach to identify the material",
                        "Establish perimeter without approaching",
                        "Wait for dispatcher instructions",
                        "Evacuate entire neighborhood"
                    ],
                    correct: 1
                },
                {
                    question: "What information do hazmat teams need?",
                    options: [
                        "Only the address",
                        "Wind direction, water sources, occupancy",
                        "Just the chemical name",
                        "Number of units responding"
                    ],
                    correct: 1
                },
                {
                    question: "How are evacuation distances determined?",
                    options: [
                        "Always one kilometer",
                        "Police chief decides",
                        "Vary by material type",
                        "No evacuations for hazmat"
                    ],
                    correct: 2
                }
            ]
        }
        // Additional passages would continue...
    ],

    // MEMORY RECALL scenarios
    memoryRecall: {
        easy: [
            {
                type: "sequence",
                data: "Badge: 4582, Officer: Martinez, Unit: 23",
                questions: [
                    { q: "What is the badge number?", a: "4582" },
                    { q: "What is the officer's name?", a: "Martinez" },
                    { q: "What is the unit number?", a: "23" }
                ]
            },
            {
                type: "sequence",
                data: "Phone: 905-555-0147, Name: Sarah Chen, Time: 3:45 PM",
                questions: [
                    { q: "What is the phone number?", a: "905-555-0147" },
                    { q: "What is the caller's name?", a: "Sarah Chen" },
                    { q: "What time was the call?", a: "3:45 PM" }
                ]
            },
            {
                type: "sequence",
                data: "Address: 245 Oak Street, Apt 12B, Vehicle: Blue Honda",
                questions: [
                    { q: "What is the street address?", a: "245 Oak Street" },
                    { q: "What is the apartment number?", a: "12B" },
                    { q: "What type of vehicle?", a: "Blue Honda" }
                ]
            }
        ],
        medium: [
            {
                type: "scenario",
                data: "Caller Name: Robert Johnson | Phone: 416-555-0892 | Address: 1456 King St E | Emergency: Medical - chest pain | Age: 67 | Time: 2:34 PM",
                questions: [
                    { q: "What is the emergency type?", a: "Medical - chest pain" },
                    { q: "What is the patient's age?", a: "67" },
                    { q: "What is the address?", a: "1456 King St E" },
                    { q: "What time did the call come in?", a: "2:34 PM" }
                ]
            },
            {
                type: "scenario",
                data: "License Plate: BXR 4829 | Vehicle: Red Ford F-150 | Driver: Male, 40s, wearing blue jacket | Location: Eastbound on Highway 401 | Speed: 140 km/h",
                questions: [
                    { q: "What is the license plate?", a: "BXR 4829" },
                    { q: "What color is the vehicle?", a: "Red" },
                    { q: "What direction is vehicle traveling?", a: "Eastbound" },
                    { q: "What is the vehicle speed?", a: "140 km/h" }
                ]
            }
        ],
        hard: [
            {
                type: "complex",
                data: "Incident #: 2024-11-2834 | Caller: Jennifer Martinez | Phone: 647-555-2256 | Address: 567 Ossington Ave, Unit 4 | Emergency: Assault in progress | Suspect: Male, 6'2\", black jacket, jeans | Weapon: Knife | Victim: Female, bleeding from arm | Witness: Neighbor in Unit 3 | Time: 11:47 PM",
                questions: [
                    { q: "What is the incident number?", a: "2024-11-2834" },
                    { q: "What weapon was mentioned?", a: "Knife" },
                    { q: "What is the suspect's height?", a: "6'2\"" },
                    { q: "Where is the witness located?", a: "Unit 3" },
                    { q: "What is the victim's injury?", a: "Bleeding from arm" }
                ]
            }
        ]
    }
};

// Utility function to shuffle array (Fisher-Yates)
function shuffleArray(array) {
    const newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
}

// Function to get random selection from question bank
function getRandomQuestions(bank, count) {
    const shuffled = shuffleArray(bank);
    return shuffled.slice(0, count);
}

// Export
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { QuestionBankPart2, shuffleArray, getRandomQuestions };
}
